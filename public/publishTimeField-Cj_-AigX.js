import{cG as B,c as C,b as c,t as m,bg as D,Z as P,i as g,a0 as h,a as f,cX as M,cZ as I,a1 as x,aE as O,a5 as F,a4 as $,a9 as N,h as R,aR as V,a6 as E,cg as H}from"./index-cZ9AAHAN.js";import{E as U,I as S,B as A}from"./appDialogsManager-cbS0liPA.js";import{I as Z}from"./iconTsx-BuRFsxGS.js";const G="_Container_rwgu4_36",K="_clickable_rwgu4_49",X="_withEndButtonIcon_rwgu4_52",Y="_BorderThin_rwgu4_55",j="_BorderThick_rwgu4_58",q="_Label_rwgu4_61",z="_active_rwgu4_61",J="_error_rwgu4_76",Q="_Input_rwgu4_104",W="_InputStub_rwgu4_130",ee="_SideContent_rwgu4_150",te="_first_rwgu4_154",ne="_last_rwgu4_157",a={Container:G,clickable:K,withEndButtonIcon:X,BorderThin:Y,BorderThick:j,Label:q,active:z,error:J,Input:Q,InputStub:W,SideContent:ee,first:te,last:ne};var se=m("<div><div></div><div>"),re=m("<input>"),p=m("<div>");const v=M(),l=s=>{const[e,n]=B(s,["value","onChange","isError","children","onClick","class","classList","clickable","withEndButtonIcon"]),[t,r]=C(),[i,d]=C(),_={input:t,setInput:r,offsetElement:i,setOffsetElement:d,value:()=>e.value,get onChange(){return e.onChange}};return c(v.Provider,{value:_,get children(){var o=se(),b=o.firstChild,y=b.nextSibling;return o.$$click=(...u)=>{_.input()?.focus(),e.onClick?.(...u)},D(o,P({get class(){return a.Container},get classList(){return{[a.error]:e.isError,[a.clickable]:e.clickable,[e.class]:!!e.class,[a.withEndButtonIcon]:e.withEndButtonIcon,...e.classList}}},n),!1,!0),g(o,()=>e.children,null),h(u=>{var T=a.BorderThin,w=a.BorderThick;return T!==u.e&&f(b,u.e=T),w!==u.t&&f(y,u.t=w),u},{e:void 0,t:void 0}),o}})};l.Input=s=>{const[e,n]=B(s,["class","classList","forceFieldValue"]),t=I(v);return(()=>{var r=re();return r.$$input=i=>{t.onChange(i.currentTarget.value),e.forceFieldValue&&(t.input().value=t.value())},x(i=>O(()=>{t.setInput(i),t.setOffsetElement(i)}),r),D(r,P({get class(){return a.Input},get classList(){return{[e.class]:!!e.class,...e.classList}},get value(){return t.value()}},n),!1,!1),r})()};l.InputStub=s=>{const e=I(v);return(()=>{var n=p(),t=e.setOffsetElement;return typeof t=="function"?x(t,n):e.setOffsetElement=n,g(n,()=>s.children),h(()=>f(n,a.InputStub)),n})()};l.Label=s=>{const e=I(v),[n,t]=C(0);return F(()=>{if(s.forceOffset||!e.offsetElement())return;const r=e.offsetElement().parentElement;if(!r)return;const i=r.getBoundingClientRect(),d=e.offsetElement().getBoundingClientRect();t(d.left-i.left)}),(()=>{var r=p();return g(r,()=>s.children),h(i=>{var d=a.Label,_={[a.active]:s.active||!!e.value()},o=`${s.forceOffset||n()}px`;return d!==i.e&&f(r,i.e=d),i.t=$(r,_,i.t),o!==i.a&&((i.a=o)!=null?r.style.setProperty("--offset",o):r.style.removeProperty("--offset")),i},{e:void 0,t:void 0,a:void 0}),r})()};l.SideContent=s=>(()=>{var e=p();return g(e,()=>s.children),h(n=>{var t=a.SideContent,r={[a.first]:s.first,[a.last]:s.last};return t!==n.e&&f(e,n.e=t),n.t=$(e,r,n.t),n},{e:void 0,t:void 0}),e})();N(["click","input"]);const ie="_Icon_17ee9_1",ae={Icon:ie},oe="_Container_66c8g_1",ce="_Caption_66c8g_5",le="_center_66c8g_10",k={Container:oe,Caption:ce,center:le},L=60*1e3;class ue extends U{constructor(e){const{minTimeDate:n,...t}=e;super(t),this.minTimeDate=n,this.caption=document.createElement("div"),this.caption.classList.add(k.Caption,k.center),this.caption.append(R("SuggestedPosts.PublishingTime.MinSendTime",[V(n)])),this.timeDiv.after(this.caption)}setTimeTitle(){if(super.setTimeTitle(),!this.caption||!this.minTimeDate)return;const e=new Date(this.selectedDate.getTime());e.setHours(+this.hoursInputField.value,+this.minutesInputField.value);const n=e<new Date||(e.valueOf()/L|0)<(this.minTimeDate.valueOf()/L|0);this.btnConfirm.toggleAttribute("disabled",n);const t=e.getDate()===this.minTimeDate.getDate();this.caption.classList.toggle("hide",!t)}}var de=m("<span>");const fe=10,he=s=>{const e=()=>{const t=new Date;t.setMinutes(t.getMinutes()+fe);const r=new Date(t);r.setHours(0,0,0,0),new ue({initDate:new Date(t),minDate:r,minTimeDate:t,onPick:i=>{console.log(i),s.onChange(i)}}).show()},n=t=>{t.stopPropagation(),s.onChange(void 0)};return c(l,{clickable:!0,get withEndButtonIcon(){return!!s.value},onClick:e,get children(){return[c(l.InputStub,{get children(){return E(()=>!!s.value)()?(()=>{var t=de();return g(t,()=>H(s.value)),t})():c(S,{get key(){return s.noTimeLangKey}})}}),c(l.Label,{active:!0,get children(){return c(S,{key:"SuggestedPosts.PublishingTime.Label"})}}),c(l.SideContent,{last:!0,get children(){return E(()=>!!s.value)()?c(A,{icon:"cross",tabIndex:-1,onClick:n}):c(Z,{get class(){return ae.Icon},icon:"down"})}})]}})};export{he as P,l as S,ae as c,k as s};
//# sourceMappingURL=publishTimeField-Cj_-AigX.js.map
