import{c as P,b as t,a6 as f,a2 as A,t as y,i as g,a0 as p,a as _,a1 as I,C as M,a9 as $,G as k}from"./index-cZ9AAHAN.js";import{d as F,a as w,z as D,I as u,A as N}from"./appDialogsManager-cbS0liPA.js";import{u as x}from"./useAppConfig-LDRFzLas.js";import{u as G}from"./useStarsCommissionAndWithdrawalPrice-BBgg12A9.js";import{S as i,c as R,s as d,P as L}from"./publishTimeField-Cj_-AigX.js";import{S as b}from"./space-z84hZv3d.js";import"./page-B3fcTjWa.js";import"./avatar-wf2_bAoN.js";import"./putPreloader-Bm9gUdtL.js";import"./classNames-0npoXsmd.js";import"./htmlToSpan-DhAls8qz.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./textToSvgURL-Cnw_Q8Rw.js";import"./iconTsx-BuRFsxGS.js";import"./fastBlur-Co-79rP4.js";import"./countryInputField-D86-3P02.js";import"./chatBackground-CDnnrmlv.js";import"./codeInputField-B-BjYjUz.js";var C=y("<div>"),H=y('<button class="btn-primary btn-color-primary btn-large">');const O=5,K=1e5,U=1,z=F({name:"suggested-post-popup-content",component:s=>{w(s.element,d.Container);const[r,l]=P(s.initialStars?s.initialStars+"":""),[o,c]=P(s.initialTimestamp&&s.initialTimestamp*1e3>Date.now()+U*60*1e3?s.initialTimestamp:void 0),[n]=x(),{willReceiveDollars:a}=G(()=>+r()||0,{commissionKey:"stars_suggested_post_commission_permille"}),S=()=>n()?.stars_suggested_post_amount_min||O,T=()=>n()?.stars_suggested_post_amount_max||K,m=()=>+r()&&+r()<S(),h=()=>m(),E=e=>{l(e&&""+Math.min(T(),+e.replace(/\D/g,"")||0))},v=()=>{h()||s.onFinish({stars:+r()||void 0,timestamp:o()||void 0})};return[t(i,{get value(){return r()},onChange:E,get isError(){return m()},get children(){return[t(i.SideContent,{first:!0,get children(){return D({class:R.Icon})}}),t(i.Input,{type:"number",forceFieldValue:!0}),t(i.Label,{forceOffset:44,get children(){return t(u,{get key(){return m()?"SuggestedPosts.EnterPrice.MinOffer":"SuggestedPosts.EnterPrice.Label"},get args(){return f(()=>!!m())()?[S()+""]:void 0}})}}),t(i.SideContent,{last:!0,get children(){return t(A,{get when(){return a()},get children(){return["~",f(()=>N(a(),",")),"$"]}})}})]}}),(()=>{var e=C();return g(e,t(u,{key:"SuggestedPosts.EnterPrice.Description"})),p(()=>_(e,d.Caption)),e})(),t(b,{amount:"2rem"}),t(L,{noTimeLangKey:"SuggestedPosts.PublishingTime.Anytime",get value(){return o()},onChange:c}),(()=>{var e=C();return g(e,t(u,{key:"SuggestedPosts.PublishingTime.Description"})),p(()=>_(e,d.Caption)),e})(),t(b,{amount:"2rem"}),(()=>{var e=H();return e.$$click=v,I(M,e,()=>!0),g(e,t(u,{key:"SuggestedPosts.MakeAnOffer"})),p(()=>e.disabled=h()),e})()]}});$(["click"]);class me extends k{constructor({HotReloadGuard:r,suggestChange:l,onFinish:o,...c}){super("suggested-post-popup",{overlayClosable:!0,closable:!0,body:!0,title:l?"SuggestedPosts.SuggestAChange":"SuggestedPosts.SuggestAPost"});const n=new z;n.HotReloadGuard=r,n.feedProps({...c,onFinish:a=>{o(a),this.hide()}}),this.body.append(n)}}export{me as default};
//# sourceMappingURL=index-C9QoiXWl.js.map
